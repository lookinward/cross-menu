!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.crossMenu=t():e.crossMenu=t()}(this,function(){return function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t,n,o){var r=e.offsetTop,i=e.offsetLeft,s=e.offsetHeight,a=o.top,f=o.left,c=i+f,d=r+a;return u(n,t,{x:c,y:d},{x:c,y:d+s})}function u(e,t,n,o){var r=i(e,t),u=i(e,n),f=i(e,o),c=s(r,u),d=s(u,f),l=s(f,r);return a(c,d)&&a(d,l)}function i(e,t){return{x:t.x-e.x,y:t.y-e.y}}function s(e,t){return e.x*t.y-t.x*e.y}function a(e,t){return(e^t)>=0}function f(e){l.unshift({x:e.pageX,y:e.pageY}),l.length>2&&(l.length=2)}function c(e){for(var t=0,n=0;"BODY"!==e.nodeName;)t+=e.offsetTop,n+=e.offsetLeft,e=e.offsetParent;return{top:t,left:n}}function d(e,t,n){e.forEach(function(e){e.forEach(function(e,o){o+=1,e.dataset.index=o,o===t&&e.classList.add(n)})})}var l=[];e.exports=function(e){function t(e){void 0!==L&&n(),L=+e.target.dataset.index-1,h[L].classList.add(y),E[L].classList.add(y),s.classList.add(y)}function n(){h[L].classList.remove(y),E[L].classList.remove(y)}var u=e.menu,i=e.menuItemTag,s=e.submenu,a=e.submenuItemTag,v=e.delay,m=void 0===v?300:v,p=e.activeClassName,y=void 0===p?"active":p,x=e.position,L=e.activeIndex,g=e.keepSubmenuVisible,b=void 0!==g&&g,h=[].concat(o(u.querySelectorAll(i))),E=[].concat(o(s.querySelectorAll(a)));d([h,E],L,y),void 0!==L&&(L-=1,s.classList.add(y)),void 0===x&&"none"!==window.getComputedStyle(u).display&&(x=c(u));var T=!1;s.addEventListener("mouseenter",function(){return T=!0},!1),s.addEventListener("mouseleave",function(){return T=!1},!1),u.addEventListener("mouseenter",function(){return document.addEventListener("mousemove",f,!1)},!1),u.addEventListener("mouseleave",function(){document.removeEventListener("mousemove",f),setTimeout(function(){b||T||(n(),s.classList.remove(y))},0)},!1);var A=0;u.addEventListener("mouseover",function(e){if(e.target&&e.target.nodeName.toLowerCase()===i){if(void 0===L||l.length<2)return t(e);A&&clearTimeout(A),r(s,l[1],l[0],x)?A=setTimeout(function(){T||(t(e),A=0)},m):t(e)}},!1)}}])});